<section class="our-best-fabric-collection" data-name="best-fabric-collection">
    <div class="fab-collection-container">
        <div class="flex fab-collection-row align-end">
          {% if section.settings.image != blank %}
            <div class="fab-collection-colleft">
                <div class="fab-collection-colleft-media">
                    {{ section.settings.image | image_url:width:913,height:976 | image_tag }}
                </div>
            </div>
           {% endif %} 
            <div class="fab-collection-colright">
                <div class="fab-collection-colright-inner">
                  {% if section.settings.main_title != blank %}
                    <div class="section-title">
                        <h2 class="h1">{{ section.settings.main_title }}</h2>
                        <div class="subtitle">{{ section.settings.sub_title }}</div>
                    </div>
                  {% endif %}
                  <div class="fab-collection-slider home-fab-slider">
                    {% for block in section.blocks %}
                      {%- case block.type -%}
                        {%- when "image_with_content" -%}
                          <div class="fab-collection-itm">
                            <div class="fab-collection-itm-inner">
                              {% if block.settings.image != blank %}
                                <div class="fab-collection-img">
                                    {{ block.settings.image | image_url:width:auto | image_tag }}
                                </div>
                              {% endif %}
                              {% if block.settings.button_label != blank %}  
                                <a href="{{ block.settings.button_url }}" class="view-pro-link">
                                  {{ block.settings.button_label }}
                                  {% render "icons",icon:"fabric-icon" %}
                                </a>
                              {% endif %}  
                            </div>
                          </div>                          
                      {%- when "last_slide" -%}
                        <div class="fab-collection-itm">
                            <div class="fab-collection-itm-inner">
                                <div class="go-to-all">
                                  {% if block.settings.slide_text != blank %}
                                    <a href="{{ block.settings.last_slide_url }}">
                                        {% render "icons",icon:"fabric-icon" %}                                          
                                          <h4>{{ block.settings.slide_text }}</h4>
                                    </a>
                                  {% endif %}  
                                </div>
                            </div>
                        </div>
                      {%- endcase -%}  
                    {% endfor %}  
                  </div>
                </div>
            </div>
        </div>
    </div>
</section>
{% schema %}
  {
    "name": "Best fabric collection",
    "settings": [
      {
        "type":"image_picker",
        "id":"image",
        "label":"Image for right side"
      },
      {
        "type":"text",
        "id":"main_title",
        "label":"Main title"
      },
      {
        "type":"text",
        "id":"sub_title",
        "label":"Sub title"
      }
    ],
    "blocks":[
      {
        "name":"Image with content",
        "type":"image_with_content",
        "settings":[
          {
            "type":"image_picker",
            "id":"image",
            "label":"Image"
          },
          {
            "type":"url",
            "id":"button_url",
            "label":"Button URL"
          },
          {
            "type":"text",
            "id":"button_label",
            "label":"Button label"
          },
          {
            "type":"richtext",
            "id":"description",
            "label":"Description"
          }
        ]
      },
      {
        "name":"last slide",
        "type":"last_slide",
        "limit":1,
        "settings":[
          {
            "type":"text",
            "id":"slide_text",
            "label":"last slide"
          },
          {
            "type":"url",
            "id":"last_slide_url",
            "label":"Last slider URL"
          }
        ]
      }
    ],
    "presets":[
      {
        "name":"Best fabric collection"
      }
    ]
  }
{% endschema %}

{% stylesheet %}
{% endstylesheet %}

{% javascript %}
{% endjavascript %}